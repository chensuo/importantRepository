<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>轮播广告-1</title>
	<style>
	.ad-carousel{
		width:100%;
		position:relative;
	}

	.carousel-body{
		width:100%;
		height:420px;
	}

	.carousel-body>a{
		display: block;
		position:absolute;
		top:0px;
		left:0px;
		right:0px;
		bottom:0px;
		opacity:0;
		transition:opacity .6s linear;

	}
	.carousel-body>a:nth-child(1){
		background-color: #963;
	}
	.carousel-body>a:nth-child(2){
		background-color: #369;

	}
	.carousel-body>a:nth-child(3){
		background-color: #333;		
	}
	.carousel-body>a.actived{
		opacity:1;
	}


	.carousel-indicator{
		height:48px;
		line-height: 48px;
		text-align: center;
		position:absolute;
		left:0px;
		right:0px;
		bottom:0px;
		background-color: rgba(0,0,0,0.3);
	}	
	.carousel-indicator>a{
		display: inline-block;
		width:12px;
		height:12px;
		border-radius: 50%;
		background-color: #999;
		margin:0px 6px; 
		transform:scale(1);
		transition:all .2s linear;
	}

	.carousel-indicator>a.actived{
		background-color: #fff;
		transform:scale(1.2);
	}
	</style>
</head>
<body>
	<div class="ad-carousel">
		<div class="carousel-body">
			<a href="#" class="actived"></a>
			<a href="#"></a>
			<a href="#"></a>
		</div>
		<div class="carousel-indicator">
			<a href="#" class="actived"></a>
			<a href="#"></a>
			<a href="#"></a>
		</div>
	</div>

	<script>
	(function(){
		var currentIndex = 0;
		var i = 0;
		var indicators = document.querySelectorAll('.carousel-indicator>a');
		var carouselItems = document.querySelectorAll('.carousel-body>a');
		var length = indicators.length;

		for(; i < length; i++){
			(function(index){
				indicators[index].onclick = function(){					
					
					if(index == currentIndex){
						return;
					}
					clearInterval(timer);
					currentIndex = index;
					var currentIndicator = document.querySelector('.carousel-indicator .actived');					
					currentIndicator.className = '';
					this.className = 'actived';
					document.querySelector('.carousel-body .actived').className = '';
					carouselItems[index].className = 'actived';
					timer = setInterval(change, 3000);
					return false;
				};
			})(i)
		};

		var timer = setInterval(change, 3000);

		function change(){
			indicators[currentIndex].className = '';
			carouselItems[currentIndex].className = '';

			if(currentIndex < length - 1){
				currentIndex++;
			}
			else{
				currentIndex = 0;
			}

			indicators[currentIndex].className = 'actived';
			carouselItems[currentIndex].className = 'actived';
		}

		
	})();
	</script>
</body>
</html>